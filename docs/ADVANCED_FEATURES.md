# ูฺฺฏโูุง ูพุดุฑูุชู AI Subtitle Converter ๐

ุงู ูุณุชูุฏ ูฺฺฏโูุง ูพุดุฑูุชู ุณุณุชู ุชุฑุฌูู ุฒุฑููุณ ุฑุง ุดุฑุญ ูโุฏูุฏ.

## ๐๏ธ ูุฏุฑุช ููุดููุฏ ูุงู

### ูฺฺฏโูุง:
- **ูุถุง ุฌุฏุงฺฏุงูู**: ูุฑ ฺฉุงุฑุจุฑ ูุถุง ุงุฎุชุตุงุต ุฏุงุฑุฏ
- **ุฌููฺฏุฑ ุงุฒ ุชุฏุงุฎู**: ฺฉ ูุงู ููุฒูุงู ุจุฑุง ูุฑ ฺฉุงุฑุจุฑ
- **ูพุงฺฉุณุงุฒ ุฎูุฏฺฉุงุฑ**: ุญุฐู ูุงูโูุง ุจุนุฏ ุงุฒ ูพุฑุฏุงุฒุด
- **ฺฉูุชุฑู ุญุฌู**: ูุญุฏูุฏุช ุญุฌู ูุงุจู ุชูุธู

### ูุญูู ฺฉุงุฑฺฉุฑุฏ:

```python
# ูุซุงู ุงุณุชูุงุฏู ุงุฒ ูุฏุฑ ูุงู
from src.utils import get_file_manager

file_manager = get_file_manager("./temp", max_file_size_mb=50)

# ุจุฑุฑุณ ุงูฺฉุงู ุขูพููุฏ
can_upload = await file_manager.can_upload_file(user_id)

# ุขูุงุฏูโุณุงุฒ ุขูพููุฏ
file_info = await file_manager.prepare_user_upload(
    user_id, filename, file_size
)

# ูพุงฺฉุณุงุฒ
await file_manager.cleanup_user_files(user_id)
```

### ุณุงุฎุชุงุฑ ุฏุงุฑฺฉุชูุฑ:
```
temp/
โโโ user_12345/
โ   โโโ abc123_movie.srt
โโโ user_67890/
โ   โโโ def456_series.srt
โโโ ...

output/
โโโ user_12345/
โ   โโโ movie_persian.srt
โโโ user_67890/
โ   โโโ series_persian.srt
โโโ ...
```

## ๐ฏ ูุฏุฑุช ุฏูู ุชุงููฺฏ

### ูฺฺฏโูุง:
- **ุญูุธ ฺฉุงูู ุชุงููฺฏ**: ุฒูุงูโุจูุฏ ุงุตู ุฏุณุช ูุฎูุฑุฏู ุจุงู ูโูุงูุฏ
- **ุงุนุชุจุงุฑุณูุฌ**: ุจุฑุฑุณ ุตุญุช ุชุงููฺฏ
- **ุขูุงุฑ ุชุญูู**: ุชุญูู ุขูุงุฑ ุฒุฑููุณโูุง
- **ุชุดุฎุต ุฎุทุง**: ุดูุงุณุง ูุดฺฉูุงุช ุชุงููฺฏ

### ูุซุงู ฺฉุฏ:

```python
from src.subtitle import SubtitleTimingManager

timing_manager = SubtitleTimingManager()

# ุชุฌุฒู ุชุงููฺฏ
timing_info = timing_manager.parse_timing_line(
    "00:01:23,456 --> 00:01:27,890"
)

# ุญูุธ ุชุงููฺฏ ุฏุฑ ุชุฑุฌูู
translated_subtitles = timing_manager.preserve_timing_in_translation(
    original_subtitles, translated_texts
)

# ุขูุงุฑ ุชุงููฺฏ
stats = timing_manager.analyze_timing_statistics(subtitles)
```

### ูุฑูุช ุชุงููฺฏ:
```
ุณุงุนุช:ุฏููู:ุซุงูู,ููโุซุงูู --> ุณุงุนุช:ุฏููู:ุซุงูู,ููโุซุงูู
00:01:23,456 --> 00:01:27,890
```

## ๐ ุงููุช ู ุฌุฏุงุณุงุฒ

### ุงุตูู ุงููุช:
1. **ุฌุฏุงุณุงุฒ ฺฉุงุฑุจุฑุงู**: ูุงูโูุง ูุฑ ฺฉุงุฑุจุฑ ุฏุฑ ูุถุง ุฌุฏุงฺฏุงูู
2. **ูุญุฏูุฏุช ููุฒูุงู**: ุฌููฺฏุฑ ุงุฒ ุขูพููุฏ ููุฒูุงู
3. **ูพุงฺฉุณุงุฒ ุฎูุฏฺฉุงุฑ**: ุญุฐู ูุงูโูุง ุจุนุฏ ุงุฒ ูุฏุช ุฒูุงู ูุดุฎุต
4. **ุงุนุชุจุงุฑุณูุฌ**: ุจุฑุฑุณ ููุน ู ุญุฌู ูุงู

### ุชูุธูุงุช ุงููุช:

```env
# ุญุฏุงฺฉุซุฑ ุญุฌู ูุงู (ูฺฏุงุจุงุช)
MAX_FILE_SIZE_MB=50

# ุฒูุงู ูพุงฺฉุณุงุฒ ุฎูุฏฺฉุงุฑ (ุฏููู)
AUTO_CLEANUP_MINUTES=5

# ุญุฏุงฺฉุซุฑ ูุงูโูุง ููุฒูุงู
MAX_CONCURRENT_FILES=1
```

## ๐ ูุงูุชูุฑูฺฏ ู ุขูุงุฑ

### ุขูุงุฑ ุณุณุชู:
- ุชุนุฏุงุฏ ูุงูโูุง ูุนุงู
- ุญุฌู ฺฉู ุงุณุชูุงุฏู ุดุฏู
- ูุถุนุช ูุฑ ูุงู
- ุขูุงุฑ ฺฉุงุฑุจุฑุงู

### ุฏุณุชูุฑุงุช ูุงูุชูุฑูฺฏ:

```bash
# ูุดุงูุฏู ูุถุนุช ุณุณุชู
/status

# ูพุงฺฉุณุงุฒ ุฏุณุช
/cleanup

# ุงุทูุงุนุงุช ูุชุฑุฌู
/info
```

### ูุซุงู ุฎุฑูุฌ ุขูุงุฑ:

```json
{
  "file_manager": {
    "active_files": 3,
    "total_size_mb": 2.5,
    "status_breakdown": {
      "processing": 2,
      "completed": 1
    }
  },
  "translator": {
    "provider": "OpenAI (gpt-3.5-turbo)",
    "target_language": "Persian"
  }
}
```

## ๐ ฺุฑุฎู ุญุงุช ูุงู

### ูุฑุงุญู ูพุฑุฏุงุฒุด:

1. **ุขูุงุฏูโุณุงุฒ** (`preparing`)
   - ุจุฑุฑุณ ุงูฺฉุงู ุขูพููุฏ
   - ุงุฌุงุฏ ูุถุง ฺฉุงุฑุจุฑ
   - ุชููุฏ ุดูุงุณู ูุงู

2. **ุฏุงูููุฏ** (`downloading`)
   - ุฏุฑุงูุช ูุงู ุงุฒ ุชูฺฏุฑุงู
   - ุฐุฎุฑู ุฏุฑ ูุถุง ฺฉุงุฑุจุฑ
   - ุงุนุชุจุงุฑุณูุฌ ุญุฌู

3. **ูพุฑุฏุงุฒุด** (`processing`)
   - ุชุฌุฒู ูุงู SRT
   - ุชุฑุฌูู ูุชูโูุง
   - ุญูุธ ุชุงููฺฏ

4. **ุชฺฉูู** (`completed`)
   - ุงุฌุงุฏ ูุงู ุฎุฑูุฌ
   - ุขูุงุฏู ุจุฑุง ุฏุงูููุฏ
   - ุจุฑูุงููโุฑุฒ ูพุงฺฉุณุงุฒ

5. **ูพุงฺฉุณุงุฒ** (`cleanup`)
   - ุญุฐู ูุงูโูุง ูุฑูุฏ ู ุฎุฑูุฌ
   - ุขุฒุงุฏุณุงุฒ ูุถุง

### ูููุฏุงุฑ ุฌุฑุงู:

```
ุขูพููุฏ ูุงู โ ุจุฑุฑุณ ุงูฺฉุงู โ ุขูุงุฏูโุณุงุฒ โ ุฏุงูููุฏ โ ูพุฑุฏุงุฒุด โ ุชฺฉูู โ ูพุงฺฉุณุงุฒ
     โ              โ            โ         โ        โ        โ         โ
  ุงุนุชุจุงุฑุณูุฌ   ุฌุฏุงุณุงุฒ ฺฉุงุฑุจุฑ   ุงุฌุงุฏ ูุถุง   ุฐุฎุฑู   ุชุฑุฌูู   ุฎุฑูุฌ   ุญุฐู ูุงูโูุง
```

## โ๏ธ ุชูุธูุงุช ูพุดุฑูุชู

### ูุงู ุชูุธูุงุช (.env):

```env
# ุชูุธูุงุช ูุงู
MAX_FILE_SIZE_MB=50
TEMP_DIR=./temp
OUTPUT_DIR=./output

# ุชูุธูุงุช ูพุงฺฉุณุงุฒ
AUTO_CLEANUP_MINUTES=5
PERIODIC_CLEANUP_HOURS=1

# ุชูุธูุงุช ููุฒูุงู
MAX_CONCURRENT_REQUESTS=5
USER_RATE_LIMIT=1

# ุชูุธูุงุช ูุงฺฏ
LOG_LEVEL=INFO
```

### ุชูุธูุงุช ูุชุฑุฌู:

```env
# OpenAI
OPENAI_API_KEY=your_key
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=4000

# ุฒุจุงู
TARGET_LANGUAGE=Persian
SOURCE_LANGUAGE=auto-detect
```

## ๐งช ุชุณุช ู ุนุจโุงุจ

### ุงุฌุฑุง ุชุณุชโูุง:

```bash
# ุชุณุช ูุฏุฑุช ูุงู
python tests/test_file_management.py

# ุชุณุช ูพุงุฑุณุฑ SRT
python tests/test_srt_parser.py

# ุชุณุช ุชุฑุฌูู
python tests/test_translation.py
```

### ุนุจโุงุจ ุฑุงุฌ:

1. **ูุงู ูพุงฺฉ ููโุดูุฏ**:
   - ุจุฑุฑุณ ูุฌูุฒูุง ุฏุงุฑฺฉุชูุฑ
   - ุงุฌุฑุง `/cleanup` ุฏุณุช

2. **ุฎุทุง ุญุฌู ูุงู**:
   - ุจุฑุฑุณ ุชูุธู `MAX_FILE_SIZE_MB`
   - ฺฉุงูุด ุญุฌู ูุงู

3. **ุชุฏุงุฎู ฺฉุงุฑุจุฑุงู**:
   - ุจุฑุฑุณ ูุงฺฏโูุง
   - ุงุฌุฑุง `/status` ุจุฑุง ูุดุงูุฏู ูุถุนุช

### ูุงฺฏโูุง ููุฏ:

```
INFO - Parsed 150 subtitle entries with precise timing
INFO - Translation completed for user 12345: {'total_subtitles': 150, 'duration': '01:45:30,000'}
INFO - Cleanup completed for user 12345
```

## ๐ฎ ูฺฺฏโูุง ุขูุฏู

### ุฏุฑ ุฏุณุช ุชูุณุนู:
- ูพุดุชุจุงู ุงุฒ ูุฑูุชโูุง ุจุดุชุฑ (VTT, ASS)
- ุชุฑุฌูู ุจู ุฒุจุงูโูุง ูุฎุชูู
- ฺฉุด ุชุฑุฌูู ุจุฑุง ุจูุจูุฏ ุณุฑุนุช
- API RESTful ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู

### ูพุดููุงุฏุงุช ุจูุจูุฏ:
- ุงุณุชูุงุฏู ุงุฒ Redis ุจุฑุง ฺฉุด
- ูพุงุฏูโุณุงุฒ Queue system
- ุงุถุงูู ฺฉุฑุฏู Database
- ุงุฌุงุฏ Dashboard ูุฏุฑุช

---

**ุงู ูุณุชูุฏ ุจู ุตูุฑุช ูุฏุงูู ุจูุฑูุฒุฑุณุงู ูโุดูุฏ.**